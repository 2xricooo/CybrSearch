async function searchData() {
  document.getElementById("results").innerHTML = "";

  const email = document.getElementById("email").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const username = document.getElementById("username").value.trim();
  const discord = document.getElementById("discord").value.trim();
  const ip = document.getElementById("ip").value.trim();

  if (!email) updateResult("e", "âš ï¸ No email entered.", "warning");
  else updateResult("e", `âœ… Email checked (demo): ${email}`, "success");

  if (!phone) updateResult("p", "â„¹ï¸ Phone check skipped.", "warning");
  else updateResult("p", `âœ… Phone checked (demo): ${phone}`, "success");

  if (!username) updateResult("u", "â„¹ï¸ Username check skipped.", "warning");
  else updateResult("u", `âœ… Username checked (demo): ${username}`, "success");

  if (!discord) updateResult("d", "â„¹ï¸ Discord check skipped.", "warning");
  else updateResult("d", `âœ… Discord ID checked (demo): ${discord}`, "success");

  if (ip) {
    // IPWHO.IS (geo + hostname)
    try {
      const geo = await fetch(`https://ipwho.is/${ip}`).then(res => res.json());
      if (geo.success) {
        updateResult("geo", `ğŸŒ Detected IP: ${geo.ip}
Hostname: ${geo.connection?.domain || "N/A"}
Country: ${geo.country}
City: ${geo.city}
Region: ${geo.region}
Timezone: ${geo.timezone}
ISP: ${geo.connection?.isp || "N/A"}
Org: ${geo.org}`, "success");
      } else {
        updateResult("geo", `âš ï¸ Geo lookup failed: ${geo.message}`, "warning");
      }
    } catch {
      updateResult("geo", "âŒ Error fetching Geo data.", "error");
    }

    // ARIN RDAP Lookup
    try {
      const rdap = await fetch(`https://rdap.arin.net/registry/ip/${ip}`).then(r => r.json());
      const handle = rdap.handle || "N/A";
      const name = rdap.name || "N/A";
      const startAddress = rdap.startAddress || "N/A";
      const endAddress = rdap.endAddress || "N/A";
      const orgName = rdap.entities?.[0]?.vcardArray?.[1]?.find(item => item[0] === "fn")?.[3] || "N/A";
      const orgAddress = rdap.entities?.[0]?.vcardArray?.[1]?.find(item => item[0] === "adr")?.[3]?.join(", ") || "N/A";

      updateResult("arin", `ğŸŒ ARIN Info
Handle: ${handle}
Net Name: ${name}
Start Address: ${startAddress}
End Address: ${endAddress}
Org Name: ${orgName}
Org Address: ${orgAddress}
More: https://search.arin.net/rdap/?query=${ip}`, "success");
    } catch (err) {
      updateResult("arin", "âŒ Error fetching ARIN RDAP info.", "error");
    }
  } else {
    updateResult("ip", "â„¹ï¸ IP geo-location and ARIN check skipped.", "warning");
  }
}
